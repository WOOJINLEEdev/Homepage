<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="buy_submit.css">
    <title>WJ shopping!</title>
</head>
<body>
  <header class="header">
    <h1 class="header_title">
      <a href="postman.html" class="header_link"><span class="visually_hidden">LOGO</span></a>
    </h1>
    <div class="sign_and_cart">
      <a href="signin.html" class="signin_link"><div class="signin"><img src="user.png" class="signin_img" alt="sign in"><span class="visually_hidden">마이페이지</span></div></a>
      <a href="cart.html" class="cart_link"><div class="cart"><img src="shopping-cart.png" class="cart_img" alt="cart"><span class="visually_hidden">장바구니</span></div></a>
    </div>
  </header>

  <main class="main">
    <div class="order_wrapper">
      <div class="delivery_coupon_pay_wrap">
        <section class="delivery_info">
          <div class="info_head_wrap">
            <h2 class="info_head delivery">배송정보</h2>
            <div class="info_head_sub"><span class="vital">*</span>표시는 필수입력 항목</div>
          </div>
          <ul class="delivery_write_choice">
            <li class="delivery_write old">기존 배송지</li>
            <li class="delivery_write new">신규입력</li>
          </ul>

          <div class="delivery_box_wrap">
            <form method="POST">
              <div class="delivery_box">
                <div class="label_box">
                  <label>배송지명</label>
                </div>
                <input type="text" class="delivery_input first">
              </div>
              
              <div class="delivery_box">
                <div class="label_box">
                  <label>수령인<span class="vital">*</span></label>
                </div>
                <input type="text" class="delivery_input second">
              </div>
              
              <div class="delivery_box">
                <div class="label_box">
                  <label>배송지<span class="vital">*</span></label>
                </div>
                <div class="delivery_address">
                  <div class="postalCode_wrap">
                    <input type="text" id="sample6_postcode" class="delivery_input postalCode" placeholder="우편번호" onclick="sample6_execDaumPostcode()">
                    <input type="button" class="postalCode_search" onclick="sample6_execDaumPostcode()" value="우편번호 찾기">
                  </div>
                  <input type="text" id="sample6_address" class="delivery_input address" placeholder="주소" disabled><br>
                  <input type="text" id="sample6_detailAddress" class="delivery_input address" placeholder="상세주소">
                  <input type="text" id="sample6_extraAddress" class="delivery_input address" placeholder="참고항목">
                </div>
              </div>


              <div class="delivery_box">
                <div class="label_box">
                  <label>연락처1<span class="vital">*</span></label>
                </div>
                <div class="tel_wrap">
                  <input type="tel" maxlength="4" id="tel_first" class="delivery_input tel">
                  <span class="tel_dash">-</span>
                  <input type="tel" maxlength="4" id="tel_second" class="delivery_input tel">
                  <span class="tel_dash">-</span>
                  <input type="tel" maxlength="4" id="tel_third" class="delivery_input tel">
                </div>
              </div>
    
              <div class="delivery_box">
                <div class="label_box">
                  <label>연락처2</label>
                </div>
                <div class="tel_wrap">
                  <input type="tel" maxlength="4" class="delivery_input tel">
                  <span class="tel_dash">-</span>
                  <input type="tel" maxlength="4" class="delivery_input tel">
                  <span class="tel_dash">-</span>
                  <input type="tel" maxlength="4" class="delivery_input tel">
                </div>
              </div>

              
              <div class="delivery_box notice">
                <div class="label_box"></div>
                기본 배송지입니다. 주문 시 변경하신 내용으로 기본 배송지 주소가 수정됩니다.
              </div>
              

              <div class="delivery_box">
                <div class="label_box"></div>
                <input type="text" class="delivery_input request" placeholder="배송시 요청사항을 작성해 주세요.">
              </div>
            </form>
          </div>


          <div class="delivery_box_wrap_second hide">
            <form method="POST">
              <div class="delivery_box">
                <div class="label_box">
                  <label>배송지명</label>
                </div>
                <input type="text" class="delivery_input first">
              </div>
              
              <div class="delivery_box">
                <div class="label_box">
                  <label>수령인<span class="vital">*</span></label>
                </div>
                <input type="text" class="delivery_input second">
              </div>
              
              <div class="delivery_box">
                <div class="label_box">
                  <label>배송지<span class="vital">*</span></label>
                </div>
                <div class="delivery_address">
                  <div class="postalCode_wrap">
                    <input type="text" id="sample5_postcode" class="delivery_input postalCode" onclick="sample5_execDaumPostcode()" placeholder="우편번호">
                    <input type="button" class="postalCode_search" onclick="sample5_execDaumPostcode()" value="우편번호 찾기">
                  </div>
                  <input type="text" id="sample5_address" class="delivery_input address" placeholder="주소" disabled><br>
                  <input type="text" id="sample5_detailAddress" class="delivery_input address" placeholder="상세주소">
                  <input type="text" id="sample5_extraAddress" class="delivery_input address" placeholder="참고항목">
                </div>
              </div>


              <div class="delivery_box">
                <div class="label_box">
                  <label>연락처1<span class="vital">*</span></label>
                </div>
                <div class="tel_wrap">
                  <input type="tel" maxlength="4" id="tel_fourth" class="delivery_input tel">
                  <span class="tel_dash">-</span>
                  <input type="tel" maxlength="4" id="tel_fifth" class="delivery_input tel">
                  <span class="tel_dash">-</span>
                  <input type="tel" maxlength="4" id="tel_sixth" class="delivery_input tel">
                </div>
              </div>
    
              <div class="delivery_box">
                <div class="label_box">
                  <label>연락처2</label>
                </div>
                <div class="tel_wrap">
                  <input type="tel" maxlength="4" class="delivery_input tel">
                  <span class="tel_dash">-</span>
                  <input type="tel" maxlength="4" class="delivery_input tel">
                  <span class="tel_dash">-</span>
                  <input type="tel" maxlength="4" class="delivery_input tel">
                </div>
              </div>

              
              <div class="delivery_box notice">
                <div class="label_box"></div>
                기본 배송지입니다. 주문 시 변경하신 내용으로 기본 배송지 주소가 수정됩니다.
              </div>
              

              <div class="delivery_box">
                <div class="label_box"></div>
                <input type="text" class="delivery_input request" placeholder="배송시 요청사항을 작성해 주세요.">
              </div>
            </form>
          </div>
        </section>

        <section class="coupon_zone">
          <h2 class="info_head">쿠폰 / 마일리지</h2>
          <div class="coupon_mileage_wrap">
            <div class="coupon_box">
              <div class="label_box">
                <label>쿠폰</label>
              </div>
              <select class="coupon_select">
              </select>
            </div>
            <div class="coupon_box mileage">
              <div class="label_box">
                <label>마일리지</label>
              </div>
              <input type="text" class="mileage_input">
              <button type="button" class="all_mileage">모두 사용</button>
              <span class="mileage_own">보유 마일리지<span class="mileage_unit"><span class="mileage_in"></span>p</span></span>
            </div>

          </div>
        </section>

        <section class="pay_zone">
          <div class="info_head_wrap">
            <h2 class="info_head pay">결제방법</h2>
            <a href="#" class="card_benefit">무이자 카드혜택 보기</a>
          </div>
          <div class="payment_info_wrap">
            <ul class="payment_method">
              <li class="payment">신용/체크카드</li>
              <li class="payment">현대카드</li>
              <li class="payment">네이버 페이</li>
              <li class="payment">토스</li>
              <li class="payment">페이코</li>
              <li class="payment">카카오 페이</li>
              <li class="payment">삼성 페이</li>
              <li class="payment">SSG페이</li>
              <li class="payment">무통장 입금</li>
              <li class="payment">휴대폰 결제</li>
              <li class="payment">실시간 계좌이체</li>
            </ul>
            <div class="pay_info">
              <h3 class="pay_info_head">신용/체크카드</h3>
              <p class="pay_info_text">
                MAC 환경에서도 신용카드 결제가 가능합니다.(ISP 결제 제외)
              </p>
              <p class="pay_info_text">
                국내 모든 카드 사용이 가능하며 해외에서 발행된 카드는 이용하실 수 없습니다.(해외배송은 불가능합니다.)</p>
              </p>
            </div>
          </div>
        </section>
      </div>

      <section class="order_info">
        <div class="order_item_info">
          <h2 class="info_head orderInfo">주문상품 정보 / 총 <span class="total"></span>개</h2>
          <ul class="info_group">
          </ul>
        </div>
        
        <div class="detail_wrap">
          <div class="detail_box">
            <div class="label_box">
              <label>총 상품금액</label>
            </div>
            <p class="price_unit"><span class="total_price_zone"></span>원</p>
          </div>

          <div class="detail_box">
            <div class="label_box">
              <label>배송비</label>
            </div>
            <p class="price_unit"><span class="delivery_charge_zone"></span>원</p>
          </div>

          <div class="detail_box">
            <div class="label_box">
              <label>마일리지 사용</label>
            </div>
            <p class="price_unit"><span class="mileage_in_zone"></span>원</p>
          </div>

          <div class="detail_box">
            <div class="label_box">
              <label>쿠폰 사용</label>
            </div>
            <p class="price_unit"><span class="coupon_in_zone"></span>원</p>
          </div>

          <div class="detail_box">
            <div class="label_box">
              <label class="final_price">총 결제금액</label>
            </div>
            <p class="price_unit final"><span class="final_price_zone"></span>원</p>
          </div>
        </div>

        <div class="order_check">
          <input type="checkbox" class="order_agree" id="agreeCheck">
          <label for="agreeCheck" class="agree_label">주문하실 상품 및 결제, 주문정보를 확인하였으며, 이에 동의합니다.(필수)</label>
        </div>

        <button type="button" class="checkout_btn">CHECK OUT</button>
      </section>
         
    </div>
  </main>



<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="./jwt-decode.js"></script>
<script>
    
    function sample6_execDaumPostcode() {
        new daum.Postcode({
            oncomplete: function(data) {
                // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.

                // 각 주소의 노출 규칙에 따라 주소를 조합한다.
                // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
                var addr = ''; // 주소 변수
                var extraAddr = ''; // 참고항목 변수

                //사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
                if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
                    addr = data.roadAddress;
                } else { // 사용자가 지번 주소를 선택했을 경우(J)
                    addr = data.jibunAddress;
                }

                // 사용자가 선택한 주소가 도로명 타입일때 참고항목을 조합한다.
                if(data.userSelectedType === 'R'){
                    // 법정동명이 있을 경우 추가한다. (법정리는 제외)
                    // 법정동의 경우 마지막 문자가 "동/로/가"로 끝난다.
                    if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
                        extraAddr += data.bname;
                    }
                    // 건물명이 있고, 공동주택일 경우 추가한다.
                    if(data.buildingName !== '' && data.apartment === 'Y'){
                        extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                    }
                    // 표시할 참고항목이 있을 경우, 괄호까지 추가한 최종 문자열을 만든다.
                    if(extraAddr !== ''){
                        extraAddr = ' (' + extraAddr + ')';
                    }
                    // 조합된 참고항목을 해당 필드에 넣는다.
                    document.getElementById("sample6_extraAddress").value = extraAddr;
                
                } else {
                    document.getElementById("sample6_extraAddress").value = '';
                }

                // 우편번호와 주소 정보를 해당 필드에 넣는다.
                document.getElementById('sample6_postcode').value = data.zonecode;
                document.getElementById("sample6_address").value = addr;
                // 커서를 상세주소 필드로 이동한다.
                document.getElementById("sample6_detailAddress").focus();
            }
        }).open();
    }


    function sample5_execDaumPostcode() {
        new daum.Postcode({
            oncomplete: function(data) {
                // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.

                // 각 주소의 노출 규칙에 따라 주소를 조합한다.
                // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
                var addr = ''; // 주소 변수
                var extraAddr = ''; // 참고항목 변수

                //사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
                if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
                    addr = data.roadAddress;
                } else { // 사용자가 지번 주소를 선택했을 경우(J)
                    addr = data.jibunAddress;
                }

                // 사용자가 선택한 주소가 도로명 타입일때 참고항목을 조합한다.
                if(data.userSelectedType === 'R'){
                    // 법정동명이 있을 경우 추가한다. (법정리는 제외)
                    // 법정동의 경우 마지막 문자가 "동/로/가"로 끝난다.
                    if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
                        extraAddr += data.bname;
                    }
                    // 건물명이 있고, 공동주택일 경우 추가한다.
                    if(data.buildingName !== '' && data.apartment === 'Y'){
                        extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                    }
                    // 표시할 참고항목이 있을 경우, 괄호까지 추가한 최종 문자열을 만든다.
                    if(extraAddr !== ''){
                        extraAddr = ' (' + extraAddr + ')';
                    }
                    // 조합된 참고항목을 해당 필드에 넣는다.
                    document.getElementById("sample5_extraAddress").value = extraAddr;
                
                } else {
                    document.getElementById("sample5_extraAddress").value = '';
                }

                // 우편번호와 주소 정보를 해당 필드에 넣는다.
                document.getElementById('sample5_postcode').value = data.zonecode;
                document.getElementById("sample5_address").value = addr;
                // 커서를 상세주소 필드로 이동한다.
                document.getElementById("sample5_detailAddress").focus();
            }
        }).open();
    }


      document.addEventListener("DOMContentLoaded", function() {
        console.log("동작");
        
        const new_write = document.querySelector(".new");
        const old_write = document.querySelector(".old");
        const deliveryWrap1 = document.querySelector(".delivery_box_wrap");
        const deliveryWrap2 = document.querySelector(".delivery_box_wrap_second");

        new_write.addEventListener("click", function() {
          console.log("새로입력");
          new_write.style.backgroundColor = "#fff";
          new_write.style.color = "#333";
          old_write.style.backgroundColor = "#eee";
          old_write.style.color = "#bababa";

          if (deliveryWrap2.classList.contains("hide")) {
            deliveryWrap2.classList.remove("hide");
            deliveryWrap1.classList.add("hide");
            return;
          } 
        })

        old_write.addEventListener("click", function() {
          console.log("기존입력");
          old_write.style.backgroundColor = "#fff";
          old_write.style.color = "#333";
          new_write.style.backgroundColor = "#eee";
          new_write.style.color = "#bababa";

            if (deliveryWrap1.classList.contains("hide")) {
              deliveryWrap1.classList.remove("hide");
              deliveryWrap2.classList.add("hide");
              return;
            }
        })


      const accessToken = localStorage.getItem("access_token");
      if (accessToken) {

        const decoded = jwt_decode(accessToken);
        const userId = decoded.user.id;
        const mileage = decoded.user.mileage;
        const mileageIn = document.querySelector(".mileage_in");
        const couponQty = decoded.user.coupons.length;
        const couponSelect = document.querySelector(".coupon_select");
        let sign_link = document.querySelector(".signin_link");
        
        
        console.log("decoded:", decoded);
        console.log(couponQty);

        // ---쿠폰---
        couponSelect.innerHTML = `<option value=""> 사용가능 쿠폰 ${couponQty}장</option>`;

        for (let i=0; i < couponQty; i++) {
          couponSelect.innerHTML += couponOption(i);
        }

       function couponOption(i) {
         return `<option value="${decoded.user.coupons[i].coupon_type}">${decoded.user.coupons[i].coupon_name}</option>`;
       } 

       
        // --- 숫자 3자리 콤마 
        function toString(mileage) {
            console.log("숫자콤마", mileage);
            console.log("숫자콤마", mileage.toString());
            console.log("숫자콤마", mileage.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g, ","));
            return mileage.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g, ",");
        }
       


        fetch(`http://localhost:8282/v1/me/cart`, {
          method : "GET",
          mode: "cors",
          headers : {
              'Content-Type': 'application/json',
               Authorization : `Bearer ${accessToken}`
          }
        })
        .then((response) => response.json())
        .then(data => {
          console.log(data);
          let totalPriceZone = document.querySelector(".total_price_zone");
          
          for (let i=0; i < data.items.length; i++) {
            infoGroup.innerHTML +=  generateCartItemHtml(data.items[i], i);
            console.log("투스트링 확인",toString(data.items[i].variant_price*data.items[i].quantity));
            let itemPrice = data.items[i].variant_price;
            let itemQuantity = data.items[i].quantity;
            let totalItemPrice = itemPrice*itemQuantity;
          }

          let totalZone = document.querySelectorAll(".price_text > .price");
          let sum = 0;
          let totalQty = document.querySelector(".total");

          for(let i=0; i < totalZone.length; i++){
            console.log(totalZone[i].textContent);
            sum += Number(totalZone[i].textContent);
          }
          
          totalPriceZone.innerHTML = sum;
          totalQty.innerHTML = data.items.length;

        let finalPriceZone = document.querySelector(".final_price_zone");
        let deliveryCharge = document.querySelector(".delivery_charge_zone");
        let mileageZone = document.querySelector(".mileage_in_zone");
        let couponZone = document.querySelector(".coupon_in_zone");
        const $mileageBtn = document.querySelector(".all_mileage");

        deliveryCharge.innerHTML = localStorage.getItem("delivery_charge");
        
        sign_link.setAttribute("href", "mypage.html");
        
        mileageIn.innerHTML = mileage;
        
        $mileageBtn.addEventListener("click", () => {
          mileageAll();
        })

        // countPrice();

        // ---마일리지 모두 사용---
        function mileageAll() {
            let mileageInput = document.querySelector(".mileage_input");
            let mileage_in = document.querySelector(".mileage_in");

            if(mileageInput.value === "") {
              mileageInput.value = mileage;
              mileageZone.innerHTML = mileage;
              console.log(typeof mileageInput.value);
              console.log(Number(mileageInput.value));
              console.log(typeof mileage_in.textContent);
              // countPrice();
            } else if (Number(mileageInput.value) === Number(mileage_in.textContent)) {
              mileageInput.value = "";
              mileageZone.innerHTML = 0;
            }
            countPrice();
        }
 
        // 마일리지 입력창
        $(".mileage_input").keyup(function() {
            
            let mileageStatus = document.querySelector(".mileage_in").textContent;
            let mileageInput = document.querySelector(".mileage_input");
            let mileage = document.querySelector(".mileage_in");
            let mileage_zone = document.querySelector(".mileage_in_zone");
            let finalPriceZone = document.querySelector(".final_price_zone");

            console.log("멈춰");
            
            if (Number(mileageInput.value) > Number(mileageStatus)) {
              alert("보유 마일리지보다 많이 입력할 수 없습니다.");
              mileage_zone.innerHTML = Number(mileageStatus);
              if(Number(mileageStatus) > Number(finalPriceZone.textContent)) {
                alert("마일리지는 총 상품금액보다 더 사용할 수 없습니다.")
                mileageInput.value = Number(finalPriceZone.textContent);
                return false;
              } else {
                mileageInput.value = mileageStatus;
                countPrice();
                return false;
              }
              countPrice();
            } else if (Number(mileageInput.value) > Number(finalPriceZone.textContent)) {
                alert("마일리지는 총 상품금액보다 더 사용할 수 없습니다.");
                mileageInput.value = Number(finalPriceZone.textContent);
                countPrice();
                return false;
              }
            countPrice();
          })


        // --- 쿠폰 선택
        function selectedCoupon() {
          const opt = couponSelect.options[couponSelect.selectedIndex];
          console.log(opt.value);
          console.log("typeof", Number(totalPriceZone.textContent));
          
          if (opt.value === "percent") {
            couponZone.innerHTML = Number(totalPriceZone.textContent)*0.2;
          } else if (opt.value === "amount") {
            couponZone.innerHTML = 5000;
          } else if (opt.value === "") {
            couponZone.innerHTML = 0;
          }
          countPrice();
        }
        

        // --- 총결제금액 계산
        function countPrice() {
          finalPriceZone.innerHTML = Number(totalPriceZone.textContent) + Number(deliveryCharge.textContent) - Number(mileageZone.textContent) - Number(couponZone.textContent);
          finalPriceZone.innerHTML = toString(Number(finalPriceZone.textContent));
        }


        // --- 쿠폰선택시 이벤트 발생
        couponSelect.addEventListener("change", selectedCoupon);

        
        finalPriceZone.innerHTML = Number(totalPriceZone.textContent) + Number(deliveryCharge.textContent) - Number(mileageZone.textContent) - Number(couponZone.textContent);
        finalPriceZone.innerHTML = toString(Number(finalPriceZone.textContent));
        })
      }

          
          // 체크아웃 버튼
          const $checkOutBtn =  document.querySelector(".checkout_btn");

          $checkOutBtn.addEventListener("click", (e) => {
            orderCheck();
          })

         
          // --- 마일리지 컨트롤
            let mileageStatus = document.querySelector(".mileage_in").textContent;
            let mileageInput = document.querySelector(".mileage_input");            
            let mileage_zone = document.querySelector(".mileage_in_zone");
            let finalPriceZone = document.querySelector(".final_price_zone");

          mileageInput.oninput = function(e) {
            console.log("oninput ", e.target.value);
            handleMileage();
          }

          function handleMileage() {
            mileage_zone.innerHTML = mileageInput.value;

            if (Number(mileage_zone.textContent) > Number(finalPriceZone.textContent)) {
              alert("stop");

              mileage_zone.innerHTML = 0;
              mileageInput.value = "";
              
            }
          }



          const payments = document.querySelectorAll(".payment");
          const paymentUl = document.querySelector(".payment_method");
          const onClass = "on";

          console.log(payments.length);
             
          paymentUl.addEventListener("click", (e) => {
            if (e.target instanceof HTMLUListElement) {
              return;
            }
            console.log(e.target);
            console.log(e.target instanceof HTMLUListElement);
            
            for (let i=0; i < payments.length; i++) {
              if (e.target === payments[i]) {
                continue;
              }
              payments[i].classList.remove(onClass);
            }

            e.target.classList.toggle(onClass);
          })
            


            const infoGroup = document.querySelector(".info_group");

            function generateCartItemHtml(cartItem, i) {
              console.log("cartItem:", cartItem)
              const price = Number(cartItem.variant_price)*cartItem.quantity
              console.log("price:", price.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g, ","))
              return `<li class="info_wrap">
              <img class="item_img" alt="" src="${cartItem.product_image_src}">
              <a href="item_detail.html" class="info_box">
                <div class="brand_box">
                  <label class="brand_label">브랜드</label>
                  <p class="brand_name"></p>
                </div>
                <div class="info_text">
                  <label class="info_name">제품명</label>
                  <p class="goods name">${cartItem.product_name}</p>
                </div>
  
                <div class="info_text">
                  <label class="info_name opt">옵션 : </label>
                  <p class="goods option">${cartItem.variant_name}</p>
                </div>
  
                <div class="info_text priceAndQuantity">
                 <label class="info_name  pAndq">가격 / 수량<span class="price_quantity">${cartItem.quantity}</span>개</label>
                 <p class="price_text"><span class="price_dollar"></span><span class="goods price">${toString(Number(cartItem.variant_price)*cartItem.quantity)}</span>원</p>
                </div>
              </a>
            </li>`

          }
          

        function orderCheck() {
          let name = document.querySelector(".second");
          let postal_code = document.querySelector(".delivery_input > postalCode");
          let address = document.getElementById("sample6_address");
          let addressDetail = document.getElementById("sample6_detailAddress");
          let tel1 = document.getElementById("tel_first");
          let tel2 = document.getElementById("tel_second");
          let tel3 = document.getElementById("tel_third");
          let tel4 = document.getElementById("tel_fourth");
          let tel5 = document.getElementById("tel_fifth");
          let tel6 = document.getElementById("tel_sixth");
          const orderAgree = document.querySelector(".order_agree");
          let paymentSelected = document.querySelector(".payment_method li.payment.on");
          

          if (name.value === "") {
            alert("수령인을 입력해주세요.");
            name.focus();
            return false;
          } else if (postal_code.value === "") {
            alert("우편번호를 입력해주세요.");
            postal_code.focus();
          } else if (address.value === "") {
            alert("주소를 입력해주세요.");
            address.focus();
          } else if (addressDetail.value === "") {
            alert("상세주소를 입력해주세요.");
            addressDetail.focus();
          } else if (tel1.value === "" && tel2.value ==="" && tel3.value ==="") {
            alert("연락처를 입력해주세요.");
            tel1.focus();
          } else if (!paymentSelected) {
            alert("결제방법을 선택해주세요.");
          } else if(!orderAgree.checked) {
            alert("주문하실 상품 및 결제, 주문정보 확인 동의를 체크해주세요.");
          } else {
            alert("유효성 체크 완료");
            location.href = "postman.html";
          } 
          
        }

    })



</script>


</body>
</html>